<div id="messaging-canvas" class="max-h-screen bg-gray-50 flex font-poppins mt-20">
 
    <div id="main-view-pane" class="ml-2 bg-gray-50 flex flex-row">

        <div class="max-h-screen bg-gray-50 w-[350px] overflow-y-auto">
            <div class="flex bg-white p-1 px-2 w-[350px]  border-2 h-9">
                
                <input type="text" placeholder="Search" class="outline-none bg-transparent w-full  text-xs" />
             <svg width="16" class="mt-1" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.2125 13.3516L10.1547 9.29375C10.7844 8.47969 11.125 7.48438 11.125 6.4375C11.125 5.18438 10.6359 4.00937 9.75156 3.12344C8.86719 2.2375 7.68906 1.75 6.4375 1.75C5.18594 1.75 4.00781 2.23906 3.12344 3.12344C2.2375 4.00781 1.75 5.18438 1.75 6.4375C1.75 7.68906 2.23906 8.86719 3.12344 9.75156C4.00781 10.6375 5.18438 11.125 6.4375 11.125C7.48438 11.125 8.47813 10.7844 9.29219 10.1562L13.35 14.2125C13.3619 14.2244 13.376 14.2338 13.3916 14.2403C13.4071 14.2467 13.4238 14.2501 13.4406 14.2501C13.4575 14.2501 13.4741 14.2467 13.4897 14.2403C13.5052 14.2338 13.5194 14.2244 13.5312 14.2125L14.2125 13.5328C14.2244 13.5209 14.2338 13.5068 14.2403 13.4912C14.2467 13.4757 14.2501 13.459 14.2501 13.4422C14.2501 13.4254 14.2467 13.4087 14.2403 13.3931C14.2338 13.3776 14.2244 13.3635 14.2125 13.3516ZM8.9125 8.9125C8.25 9.57344 7.37187 9.9375 6.4375 9.9375C5.50312 9.9375 4.625 9.57344 3.9625 8.9125C3.30156 8.25 2.9375 7.37187 2.9375 6.4375C2.9375 5.50312 3.30156 4.62344 3.9625 3.9625C4.625 3.30156 5.50312 2.9375 6.4375 2.9375C7.37187 2.9375 8.25156 3.3 8.9125 3.9625C9.57344 4.625 9.9375 5.50312 9.9375 6.4375C9.9375 7.37187 9.57344 8.25156 8.9125 8.9125Z" fill="#262626"/>
                    </svg>
                
            </div>
            <hr class="m-2" />
           <div class="bg-white h-[550px]">
            <div *ngFor="let convo of conversations" class="h-100 w-full my-2 p-2 bg-angel-blue cursor-pointer"
                (click)="getMessages(convo.conversationId)">
                <img class="rounded-full w-10 h-10 bg-blue-500 cursor-pointer inline">
                <div class="container text-sm inline">
                    {{convo.conversationName}}  {{convo.convoDesc}}
                </div>
            </div>
        </div>
    </div> 
        <div class=" w-[630px] bg-white h-[500px] mx-2 -mt-3">
            <!-- <div class="h-fit w-full my-2 p-2 bg-angel-blue">
                <img class="rounded-full w-10 h-10 bg-blue-500 cursor-pointer inline">
                <div class="container text-sm inline">
                    Selected conversation topic - topic description
                </div>
            </div> -->

            <div id="conversations" class="h-[500px] w-full bg-gray-50 border-2 ">
                <div *ngFor="let message of messages" class=" w-full border-bottom-2 message-container">
                    <div *ngIf="userId == message.senderId else otherSender" class="float-right">
                      <div class="message-content">{{ message.content }}</div>
                    </div>
                    <ng-template #otherSender>
                      <div class="float-left">
                        <div class="message-content">{{ message.content }}</div>
                      </div>
                    </ng-template>
                    <br />
                  </div>
                  
                  
            </div>

            <div class="flex w-full border-2 bg-white h-20">
                <textarea placeholder="" class="ml-1 resize-none outline-none bg-white w-full font-medium font-poppins" [(ngModel)]="content" (keydown)="handleKeyDown($event)"></textarea>
                <i class="material-icons md-15 text-gray-400 mr-2 cursor-pointer" (click)="sendMessage(content)">send</i>
            </div>
            
        </div>
    
        <!-- <div class="bg-white w-[250px]">
            <div class="w-[150px] h-screen">
                <h1>People</h1>
                <div class="p-3 w-full" *ngFor="let participant of participants">
                    {{participant.fname}}-{{participant.company_name}}
                </div>
            </div>
            <div>
                <button (click)="getUsers()" [disabled]="loadUsers">Get Users</button>
                <ul>
                    <li *ngFor="let user of users">
                        <input type="checkbox" [(ngModel)]="user.selected">{{user.fname}} {{user.lname}}
                    </li>
                </ul>
                <button (click)="addParticipants()">Add</button>
            </div> -->
        </div>
       
        <div class="bg-white w-full h-[500px] -mt-3 -ml-2">
            <div class="flex justify-between border">
                <div class="head">Users</div>
               
                <div>
                    <button (click)="getUsers()" [disabled]="loadUsers"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="32" height="32" fill="white" style="mix-blend-mode:multiply"/>
                        <path d="M17 15V8H15V15H8V17H15V24H17V17H24V15H17Z" fill="#2F54EB"/>
                        </svg>
                        </button>
                    <ul>
                        <li *ngFor="let user of users">
                            <input type="checkbox" [(ngModel)]="user.selected">{{user.fname}} {{user.lname}}
                        </li>
                    </ul>
                    <button (click)="addParticipants()">Add</button>
                </div>
            </div>
            <div class="p-3 h-100 w-full my-2 bg-white cursor-pointer" *ngFor="let participant of participants">
                <div class="flex items-center">
                    <img class="rounded-full w-14 h-11 bg-blue-500 cursor-pointer inline">
                    <div class="container text-sm inline ml-2">
                        <div>{{participant.fname}}</div>
                        <div>{{participant.company_name}}</div>
                    </div>
                </div>
            </div>
            
        </div>

       
            <!-- <div class="w-[150px] h-screen">
                <h1>Users</h1>
                <div class="p-3 h-100 w-full my-2 bg-angel-blue cursor-pointer" *ngFor="let participant of participants">
                    <div class="flex items-center">
                        <img class="rounded-full w-10 h-10 bg-blue-500 cursor-pointer inline">
                        <div class="container text-sm inline ml-2">
                            <div  class="whitespace-nowrap w-full">{{participant.fname}}</div>
                            <div class="whitespace-nowrap">{{participant.company_name}}</div>
                        </div>
                    </div>
                </div>
                
            </div> -->
            
           
            
   
</div>